!function(e){e(function(){function t(t,a,n,i){l?(l.setPosition(t),e("#locationews-location").val(t.lat()+","+t.lng())):l=new google.maps.Marker({position:t,map:n,title:"",draggable:!0,icon:0!==locationews_map_init.icon.length?locationews_map_init.icon:locationews_map_init.plugin_url+"img/icon-small.png"}),l.addListener("drag",function(t){e("#locationews-location").val(t.latLng.lat()+","+t.latLng.lng())}),l.addListener("dragend",function(t){e("#locationews-location").val(t.latLng.lat()+","+t.latLng.lng()),o(i,n,t.latLng.lat(),t.latLng.lng())}),o(i,n,t.lat(),t.lng())}function o(t,o,l,a){if(void 0!==l&&void 0!==a)i={lat:parseFloat(l),lng:parseFloat(a)};else var n=e("#locationews-location").val().split(",",2),i={lat:parseFloat(n[0]),lng:parseFloat(n[1])};t.geocode({location:i},function(t,o){"OK"===o&&t[0]?(e("#locationews-pac-input").val(t[0].formatted_address),e("#locationews-pac-input").removeAttr("placeholder")):e("#locationews-pac-input").val("")})}"object"==typeof google&&"object"==typeof google.maps||alert("Google Maps API not loaded.");var l="",a="",n=locationews_map_init.locationews_meta,i=locationews_map_init.locationews_options,s=locationews_map_init.locationews_user,r=(a=n.latlng&&0!==n.latlng.length?n.latlng.split(","):s.location&&0!==s.location.length?s.location.split(","):i.location.split(","))[0],c=a[1],p=new google.maps.LatLng(r,c),g={zoom:0!==locationews_map_init.zoom.length?parseInt(locationews_map_init.zoom):9,center:p,disableDoubleClickZoom:!0,mapTypeId:google.maps.MapTypeId.ROADMAP,disableDefaultUI:!0,zoomControl:!0,gestureHandling:"greedy",streetViewControl:!1,styles:[{elementType:"geometry",stylers:[{color:"#f5f5f5"}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{elementType:"labels.text.stroke",stylers:[{color:"#f5f5f5 "}]},{featureType:"administrative.land_parcel",elementType:"labels.text.fill",stylers:[{color:"#bdbdbd"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#e05a5a"}]},{featureType:"road.arterial",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#e05a5a"},{saturation:-40},{lightness:30}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"transit.line",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"transit.station",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#c9d9d9"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]}]},y=r+","+c;0!==n.latlng.length&&n.latlng!==y&&e("#locationews-location").val(r+","+c);var m=new google.maps.Map(document.getElementById("locationews-google-map"),g),d=new google.maps.Geocoder;if(t(p,"",m,d),m.addListener("dblclick",function(e){t(e.latLng,"",m,d)}),"object"!=typeof google.maps.places)e("#locationews-pac-input").hide();else{var u=document.getElementById("locationews-pac-input"),f=new google.maps.places.SearchBox(u);m.controls[google.maps.ControlPosition.TOP_CENTER].push(u),m.addListener("bounds_changed",function(){f.setBounds(m.getBounds())});var w=[];f.addListener("places_changed",function(){var e=f.getPlaces();if(0!=e.length){w.forEach(function(e){e.setMap(null)}),w=[];var o=new google.maps.LatLngBounds;e.every(function(e,l){if(e.geometry)return t(e.geometry.location,"",m,d),e.geometry.viewport?o.union(e.geometry.viewport):o.extend(e.geometry.location),!1}),m.fitBounds(o)}})}0!==e("#locationews-pac-input").val().length&&e("#locationews-pac-input").removeAttr("placeholder"),e("#locationews-pac-input").focus(function(){e(this).data("oldvalue",e(this).val()),e(this).val(""),e(this).attr("placeholder",locationews_map_init.map_search_placeholder)}).blur(function(){""==e(this).val()&&e(this).val(e(this).data("oldvalue"))}),e(window).keydown(function(e){if(13==e.keyCode)return e.preventDefault(),!1}),e("#locationews-location").keyup(function(){var t=e(this);t.val(t.val().replace(/[^\d.,]/g,""))})})}(jQuery);